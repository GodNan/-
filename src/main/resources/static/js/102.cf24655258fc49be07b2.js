webpackJsonp([102],{"4wd9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("rLcC"),n=i("VsUZ");var d={components:{Citizen:a.default},computed:{},data:function(){return{isLoading:!1,isSubmitting:!1,cdpfId:this.$route.params.cdpfId,activeName:"citizen",CitizenIdEditParams:{cdpfId:this.$route.params.cdpfId,newCitizenId:"",newBirthdate:""},rules:{newCitizenId:[{validator:this.validateIdcard,trigger:"blur"}]}}},watch:{"CitizenIdEditParams.newCitizenId":function(t){this.CitizenIdEditParams.newBirthdate=this.getBirthdateByCitizenid(t)}},created:function(){},methods:{citizenIdEdit:function(){var t=this;this.$refs.CitizenIdEditParams.validate(function(e){if(e){if(""===t.CitizenIdEditParams.newCitizenId.trim())return void alert("新身份证号码不可为空！");t.isSubmitting=!0,(i=t.CitizenIdEditParams,Object(n.a)({url:"/citizenIdEidt/updateInfo",method:"put",data:i})).then(function(e){"success"===e.type?(t.isSubmitting=!1,alert(e.content),alert("如果此人已发卡，请进行卡残损换新操作。"),t.$router.push({name:"citizenList"})):alert(e.content)})}var i})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"app-container"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],ref:"CitizenIdEditParams",attrs:{model:t.CitizenIdEditParams,rules:t.rules,size:"medium","label-position":"left","element-loading-text":"数据加载中"}},[i("el-row",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"},attrs:{gutter:25}},[i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:"请输入新身份证号码：","label-width":"180px",prop:"newCitizenId"}},[i("el-input",{model:{value:t.CitizenIdEditParams.newCitizenId,callback:function(e){t.$set(t.CitizenIdEditParams,"newCitizenId",e)},expression:"CitizenIdEditParams.newCitizenId"}})],1)],1),t._v(" "),i("el-col",{staticStyle:{"padding-left":"2cm"},attrs:{span:4}},[i("el-form-item",{attrs:{"label-width":"0px"}},[t.isSubmitting?t._e():i("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:t.citizenIdEdit}},[t._v("提交")])],1)],1),t._v(" "),i("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.isSubmitting,expression:"isSubmitting",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"操作处理中"}})],1),t._v(" "),i("el-row")],1),t._v(" "),i("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"基本信息",name:"citizen"}},[i("citizen",{ref:"idtcitizen",attrs:{idt:"",info:"",mark:this.$route.params.cdpfId}})],1)],1)],1)])},staticRenderFns:[]},s=i("VU/8")(d,r,!1,null,null,null);e.default=s.exports}});