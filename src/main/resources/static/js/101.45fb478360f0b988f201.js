webpackJsonp([101],{D4Xq:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),o=s("NYxO"),r=s("rLcC"),n=s("M3VY"),l=s("BzqM"),d=s("bBKa"),u=s("q1Tu"),c=s("brym"),h=s("9/5Y"),p=s("iVcN"),f=s("Q3je"),m=s("7qrd"),g=["eye","ear","speech","body","iq","mental"],b={components:{Citizen:r.default,Eye:n.default,Ear:l.default,Speech:d.default,IdtBody:u.default,Iq:c.default,Mental:h.default,IdtResult:p.default,LogoutPhotoUpload:m.default},data:function(){return{isLoading:!1,dialogVisible:!1,isSubmitting:!1,kindIdtSelected:["resultX","taskslog"],activeStep:0,activeName:"citizen",logout:{logoutReason:""},rules:{logoutReason:[{required:!0,message:"请选择注销原因",trigger:"change"}]}}},computed:i()({},Object(o.b)(["kindstr","dict"])),watch:{steps:function(t){var e=this;t.length>0&&(this.activeStep=this.steps.find(function(t){return t.stateCode===e.$store.getters.handleState}).orderNum-1,this.getBackSteps())},"requestNote.handleType":function(t){var e=this;1===t?(this.requestStakeholder.delFlag=0,this.activeStep===this.steps.length-1?(this.requestNote.finishState=this.requestNote.handleState,this.requestStakeholder.delFlag=1,this.requestStakeholder.permissionId="nonebdpfnew"):(this.requestStakeholder.delFlag=0,this.requestNote.finishState=this.steps.find(function(t){return t.orderNum===e.activeStep+2}).stateCode,this.requestStakeholder.permissionId=this.steps.find(function(t){return t.stateCode===e.requestNote.finishState}).permissionId)):3===t?(this.requestNote.finishState=99,this.requestStakeholder.delFlag=1,this.requestStakeholder.permissionId="nonebdpfnew"):this.requestStakeholder.delFlag=0},"requestNote.backState":function(t){var e=this;""!==t&&(this.requestNote.finishState=t,this.requestStakeholder.permissionId=this.steps.find(function(t){return t.stateCode===e.requestNote.finishState}).permissionId)}},created:function(){this.setOptionsApplyFor(),this.getDict("d_logout_reason","logoutReasonList")},methods:{logoutPhotoUpload:function(){this.dialogVisible=!0},apply:function(){var t=this;this.isSubmitting=!0,this.$refs.logout.validate(function(e){if(!e)return t.isSubmitting=!1,!1;var s={cdpfId:t.$route.params.cdpfId,processId:t.$store.getters.processCode[t.$route.name],logoutReason:t.logout.logoutReason};Object(f.d)(s).then(function(e){alert(e.content),t.isSubmitting=!1,t.$router.push({name:"tasksTodoList"})})})},handleClick:function(t,e){var s=this.$refs["idt"+t.name].loaded,a=this.has(this.kindIdtSelected,t.name);!s&&a&&this.$refs["idt"+t.name].getIdtInfo()},setOptionsApplyFor:function(){var t=this,e=this.$store.getters.kindstr;null!==e&&""!==e&&(e.split(",").forEach(function(e){""!==e&&void 0!==e&&t.kindIdtSelected.push(g[e-1])}),this.active="citizen")}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("el-card",[s("el-form",{ref:"logout",attrs:{model:t.logout,rules:t.rules}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"注销原因:",prop:"logoutReason"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.logout.logoutReason,callback:function(e){t.$set(t.logout,"logoutReason",e)},expression:"logout.logoutReason"}},t._l(t.dict.logoutReasonList,function(t){return s("el-option",{key:t.id,attrs:{label:t.description,value:t.id}})}))],1)],1),t._v(" "),s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{"label-width":"0"}},[s("el-button",{attrs:{type:"",icon:"el-icon-refresh"},on:{click:function(e){t.logoutPhotoUpload()}}},[t._v("上传注销证明图片")]),t._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:t.apply}},[t._v("提交")])],1)],1),t._v(" "),s("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.isSubmitting,expression:"isSubmitting",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"操作处理中"}})],1)],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("logout-photo-upload",{ref:"logoutPhoto",attrs:{mark:this.$route.params.cdpfId}})],1),t._v(" "),s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"基本信息",name:"citizen"}},[s("citizen",{ref:"idtcitizen",attrs:{idt:"",info:"",mark:this.$route.params.cdpfId}})],1),t._v(" "),t.has(t.kindstr,"1")?s("el-tab-pane",{attrs:{label:"视力残疾",name:"eye"}},[s("eye",{ref:"idteye",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.kindstr,"2")?s("el-tab-pane",{attrs:{label:"听力残疾",name:"ear"}},[s("ear",{ref:"idtear",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.kindstr,"3")?s("el-tab-pane",{attrs:{label:"言语残疾",name:"speech"}},[s("speech",{ref:"idtspeech",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.kindstr,"4")?s("el-tab-pane",{attrs:{label:"肢体残疾",name:"body"}},[s("idt-body",{ref:"idtbody",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.kindstr,"5")?s("el-tab-pane",{attrs:{label:"智力残疾",name:"iq"}},[s("iq",{ref:"idtiq",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.kindstr,"6")?s("el-tab-pane",{attrs:{label:"精神残疾",name:"mental"}},[s("mental",{ref:"idtmental",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.kindstr,",")?s("el-tab-pane",{attrs:{label:"评定结果",name:"resultX"}},[s("idt-result",{ref:"idtresultX",attrs:{info:"",mark:this.$route.params.requestId}})],1):t._e()],1)],1)},staticRenderFns:[]},v=s("VU/8")(b,k,!1,null,null,null);e.default=v.exports}});