webpackJsonp([39],{JmHm:function(e,t,o){var a=o("Zt7f");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("58cd8ee7",a,!0)},NEGd:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("QL0Z"),r={name:"UnlockPhotoUpload",props:{mark:{type:String,default:""},kind:{type:Number,default:0},info:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,imageUrl:"",imageBase64:"",showUnlockPhoto:this.info}},created:function(){this.getUnlockPhotoNow()},methods:{beforePhotoUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type,o=e.size/1024/1024<1;return t||this.$message.error("上传图片只能是 JPG,PNG 格式!"),o||this.$message.error("上传图片大小不能超过 1MB!"),t&&o},getUnlockPhotoNow:function(){var e=this;this.isLoading=!0,Object(a.c)(this.mark).then(function(t){e.isLoading=!1,"success"===t.type?(e.showUnlockPhoto=!0,e.imageBase64=t.data.photo):e.imageBase64=""})},photoUpload:function(e){var t=this,o=e.file,r=new FormData;r.append("file",o),r.append("citizenId",this.$store.getters.citizenId),r.append("cdpfId",this.mark),Object(a.i)(r).then(function(e){return"success"===e.type?(t.imageUrl=URL.createObjectURL(o),!0):(alert("上传失败,请重新上传!"),!1)})}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",{staticStyle:{border:"2px solid #f3f5f7"}},[o("el-aside",{staticClass:"verticalTitle",attrs:{width:"80px"}},[e._v("解冻证明图片")]),e._v(" "),o("el-main",[e.showUnlockPhoto?o("el-row",[o("img",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"idtphotoshow",attrs:{src:"data:image/jpeg;base64,"+e.imageBase64,"element-loading-text":"图片加载中"}})]):o("el-row",[o("el-col",{attrs:{span:8}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"none","http-request":e.photoUpload,"show-file-list":!1,"before-upload":e.beforePhotoUpload,limit:3}},[e.imageUrl?o("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),o("el-col",[o("span",{staticStyle:{color:"red"}},[e._v('点击 "+" 上传照片')])])],1)],1)],1)},staticRenderFns:[]};var i=o("VU/8")(r,n,!1,function(e){o("JmHm")},null,null);t.default=i.exports},Zt7f:function(e,t,o){(e.exports=o("FZ+f")(!0)).push([e.i,"\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\n}\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\n}\n.idtphotoshow {\r\n  width: 400px;\r\n  height: 400px;\r\n  display: block;\n}\r\n","",{version:3,sources:["D:/JAVA_WORKSPACE/idea/vue-bdpfnew/src/views/business/unlockPhotoUpload.vue"],names:[],mappings:";AACA;EACE,2BAA2B;EAC3B,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,iBAAiB;CAClB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,cAAc;EACd,eAAe;CAChB;AACD;EACE,aAAa;EACb,cAAc;EACd,eAAe;CAChB",file:"unlockPhotoUpload.vue",sourcesContent:["\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\n}\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\n}\n.idtphotoshow {\r\n  width: 400px;\r\n  height: 400px;\r\n  display: block;\n}\r\n"],sourceRoot:""}])}});