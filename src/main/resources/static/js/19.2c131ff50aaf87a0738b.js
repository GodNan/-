webpackJsonp([19,39],{JmHm:function(e,t,a){var r=a("Zt7f");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("58cd8ee7",r,!0)},NEGd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("QL0Z"),i={name:"UnlockPhotoUpload",props:{mark:{type:String,default:""},kind:{type:Number,default:0},info:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,imageUrl:"",imageBase64:"",showUnlockPhoto:this.info}},created:function(){this.getUnlockPhotoNow()},methods:{beforePhotoUpload:function(e){var t="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type,a=e.size/1024/1024<1;return t||this.$message.error("上传图片只能是 JPG,PNG 格式!"),a||this.$message.error("上传图片大小不能超过 1MB!"),t&&a},getUnlockPhotoNow:function(){var e=this;this.isLoading=!0,Object(r.c)(this.mark).then(function(t){e.isLoading=!1,"success"===t.type?(e.showUnlockPhoto=!0,e.imageBase64=t.data.photo):e.imageBase64=""})},photoUpload:function(e){var t=this,a=e.file,i=new FormData;i.append("file",a),i.append("citizenId",this.$store.getters.citizenId),i.append("cdpfId",this.mark),Object(r.i)(i).then(function(e){return"success"===e.type?(t.imageUrl=URL.createObjectURL(a),!0):(alert("上传失败,请重新上传!"),!1)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{border:"2px solid #f3f5f7"}},[a("el-aside",{staticClass:"verticalTitle",attrs:{width:"80px"}},[e._v("解冻证明图片")]),e._v(" "),a("el-main",[e.showUnlockPhoto?a("el-row",[a("img",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"idtphotoshow",attrs:{src:"data:image/jpeg;base64,"+e.imageBase64,"element-loading-text":"图片加载中"}})]):a("el-row",[a("el-col",{attrs:{span:8}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"none","http-request":e.photoUpload,"show-file-list":!1,"before-upload":e.beforePhotoUpload,limit:3}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-col",[a("span",{staticStyle:{color:"red"}},[e._v('点击 "+" 上传照片')])])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(e){a("JmHm")},null,null);t.default=o.exports},Zt7f:function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\n}\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\n}\n.idtphotoshow {\r\n  width: 400px;\r\n  height: 400px;\r\n  display: block;\n}\r\n","",{version:3,sources:["D:/JAVA_WORKSPACE/idea/vue-bdpfnew/src/views/business/unlockPhotoUpload.vue"],names:[],mappings:";AACA;EACE,2BAA2B;EAC3B,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,iBAAiB;CAClB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,cAAc;EACd,eAAe;CAChB;AACD;EACE,aAAa;EACb,cAAc;EACd,eAAe;CAChB",file:"unlockPhotoUpload.vue",sourcesContent:["\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\n}\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\n}\n.idtphotoshow {\r\n  width: 400px;\r\n  height: 400px;\r\n  display: block;\n}\r\n"],sourceRoot:""}])},xrqI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),n=a("NYxO"),o=a("rLcC"),s=a("M3VY"),l=a("BzqM"),d=a("bBKa"),c=a("q1Tu"),p=a("brym"),u=a("9/5Y"),h=a("iVcN"),f=a("5u+E"),m=a("NEGd"),A=a("QL0Z"),v={components:{Citizen:o.default,Eye:s.default,Ear:l.default,Speech:d.default,IdtBody:c.default,Iq:p.default,Mental:u.default,IdtResult:h.default,TasksLog:f.default,UnlockPhotoUpload:m.default},computed:i()({},Object(n.b)(["kindstr","dict"]),{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}),watch:{"dtoState.processId":function(e,t){this.processName=this.dict.processList.filter(function(t){return parseInt(t.code,10)===e})[0].description}},data:function(){return{isLoading:!1,dialogVisible:!1,activeStep:0,activeName:"citizen",currentState:0,steps:[],processName:"",dtoState:{processId:0,stateType:3}}},created:function(){},methods:{unlockPhotoUpload:function(){this.dialogVisible=!0},unlockApply:function(){var e=this,t={cdpfId:this.$route.params.cdpfId};Object(A.h)(t).then(function(t){e.$message({type:"success",message:"操作成功!"}),e.$router.push({name:"citizenForZhuxiaoList"})})},handleClick:function(e,t){this.$refs["idt"+e.name].loaded||this.$refs["idt"+e.name].getIdtInfo()}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view"),e._v(" "),a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],ref:"apply",attrs:{size:"medium","label-position":"left","element-loading-text":"加载中"}},[a("el-row",[a("el-card",[a("el-button",{attrs:{size:"mini",icon:"el-icon-refresh"},on:{click:function(t){e.unlockPhotoUpload()}}},[e._v("上传解冻证明图片")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.unlockApply()}}},[e._v("解冻")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"解冻",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("unlock-photo-upload",{ref:"unlockPhoto",attrs:{mark:this.$route.params.cdpfId}})],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"citizen"}},[a("citizen",{ref:"idtcitizen",attrs:{idt:"",info:"",mark:this.$route.params.cdpfId}})],1),e._v(" "),e.has(e.kindstr,"1")?a("el-tab-pane",{attrs:{label:"视力残疾",name:"eye"}},[a("eye",{ref:"idteye",attrs:{info:"",mark:this.$route.params.requestId}})],1):e._e(),e._v(" "),e.has(e.kindstr,"2")?a("el-tab-pane",{attrs:{label:"听力残疾",name:"ear"}},[a("ear",{ref:"idtear",attrs:{info:"",mark:this.$route.params.requestId}})],1):e._e(),e._v(" "),e.has(e.kindstr,"3")?a("el-tab-pane",{attrs:{label:"言语残疾",name:"speech"}},[a("speech",{ref:"idtspeech",attrs:{info:"",mark:this.$route.params.requestId}})],1):e._e(),e._v(" "),e.has(e.kindstr,"4")?a("el-tab-pane",{attrs:{label:"肢体残疾",name:"body"}},[a("idt-body",{ref:"idtbody",attrs:{info:"",mark:this.$route.params.requestId}})],1):e._e(),e._v(" "),e.has(e.kindstr,"5")?a("el-tab-pane",{attrs:{label:"智力残疾",name:"iq"}},[a("iq",{ref:"idtiq",attrs:{info:"",mark:this.$route.params.requestId}})],1):e._e(),e._v(" "),e.has(e.kindstr,"6")?a("el-tab-pane",{attrs:{label:"精神残疾",name:"mental"}},[a("mental",{ref:"idtmental",attrs:{info:"",mark:this.$route.params.requestId}})],1):e._e(),e._v(" "),a("el-tab-pane",{attrs:{label:"评定结果",name:"resultX"}},[a("idt-result",{ref:"idtresultX",attrs:{info:"",mark:this.$route.params.requestId}})],1)],1)],1)],1)},staticRenderFns:[]},g=a("VU/8")(v,b,!1,null,null,null);t.default=g.exports}});