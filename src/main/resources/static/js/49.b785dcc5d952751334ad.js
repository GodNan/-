webpackJsonp([49],{Fgk9:function(t,e,i){"use strict";e.a=function(t){return Object(a.a)({url:"/nameEidt/getCitizenData/"+t,method:"get"})},e.b=function(t){return Object(a.a)({url:"/nameEidt/updateInfo",method:"put",data:t})};var a=i("VsUZ")},NtYV:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Fgk9"),d=i("yk4z"),s={data:function(){return{diaoqu:{citizenId:""},userCityid:this.$store.getters.cityidQuery,citienCityid:"",requestIdCard:"",cdpfId:"",requestId:"",hadFinalReviewed:"",rules:{citizenId:[{validator:this.validateIdcard,trigger:"blur"}]}}},methods:{getCitizenData:function(){var t=this;this.$refs.diaoqu.validate(function(e){e&&(console.log("userCityid:"+t.userCityid),console.log("this.userCityid.length:"+t.userCityid.length),t.userCityid.length>6&&alert("当前用户没有修改姓名权限，仅区级用户有此权限。"),Object(a.a)(t.diaoqu.citizenId).then(function(e){if("success"===e.type){if(t.citienCityid=e.data.cityid,t.requestIdCard=e.data.requestIdCard,t.cdpfId=e.data.uuid,t.requestId=e.data.requestId,t.hadFinalReviewed=e.data.hadFinalReviewed,console.log("this.citienCityid:"+t.citienCityid),console.log("this.citienCityid.substring(0, 6):"+t.citienCityid.substring(0,6)),console.log("this.requestIdCard:"+t.requestIdCard),console.log("this.cdpfId:"+t.cdpfId),console.log("this.requestId:"+t.requestId),console.log("this.hadFinalReviewed:"+t.hadFinalReviewed),6===t.userCityid.length&&t.citienCityid.substring(0,6)!==t.userCityid)return void alert("此人不属于本区残疾人。");1===t.hadFinalReviewed?Object(d.k)(t.requestIdCard).then(function(e){if("success"===e.type)if(console.log("res.data.cardStatus:"+e.data.cardStatus),340===e.data.cardStatus){var i=t.cdpfId,a=t.requestId;t.$router.push({name:"nameEdit",params:{cdpfId:i,requestId:a,handle:!0}})}else alert("此人当前卡流程未完结，不允许修改姓名。");else alert(e.content)}):alert("此人当前流程未完结，不允许修改姓名。")}else alert(e.content)}))})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"diaoqu",attrs:{model:t.diaoqu,rules:t.rules,size:"","label-width":"200px"}},[i("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:25}},[i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:"请输入身份证号码：","label-width":"170px",prop:"citizenId"}},[i("el-input",{model:{value:t.diaoqu.citizenId,callback:function(e){t.$set(t.diaoqu,"citizenId",e)},expression:"diaoqu.citizenId"}})],1)],1),t._v(" "),i("el-col",{staticStyle:{"padding-left":"2cm"},attrs:{span:4}},[i("el-form-item",{attrs:{"label-width":"0px"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:t.getCitizenData}},[t._v("查询")])],1)],1)],1)],1)],1)},staticRenderFns:[]},n=i("VU/8")(s,r,!1,null,null,null);e.default=n.exports}});