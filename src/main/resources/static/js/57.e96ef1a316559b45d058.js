webpackJsonp([57],{YInW:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("Dd8w"),i=r.n(s),o=r("NYxO"),a=r("Q3je"),n={data:function(){var t=this;return{list:[],listLoading:!1,listQuery:{processId:"",citizenName:"",citizenId:"",startDate:"",endDate:""},rules:{startDate:[{validator:function(e,r,s){""!==t.listQuery.endDate&&r>t.listQuery.endDate&&s(new Error("开始日期不能大于结束日期!")),s()},trigger:"change"}],endDate:[{validator:function(e,r,s){""!==t.listQuery.startDate&&r<t.listQuery.startDate&&s(new Error("结束日期不能小于开始日期!")),s()},trigger:"change"}]}}},computed:i()({},Object(o.b)(["dict"]),{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date},listQueryX:function(){var t=this.listQuery;return i()({},t,{cityid:this.$store.getters.cityidQuery,pageNum:this.$store.getters.pageNum,pageRow:this.$store.getters.pageRow})},showList:function(){return this.$route.name.indexOf("List")>-1},query:function(){return this.getQuery(this.listQueryX)}}),watch:{"listQueryX.cityid":"getList","listQueryX.pageNum":"getList","listQueryX.pageRow":function(t,e){1===this.$store.getters.pageNum?this.getList():this.$store.dispatch("TogglePageNum",1)}},created:function(){this.getList()},methods:{taskDoneInfo:function(t){this.$store.dispatch("ToggleKindstr",t.optionsApplyFor),59===t.processId||19===t.processId?119!==t.currentState&&209!==t.currentState&&this.$store.dispatch("ToggleKindstr",t.optionsAdopt):58!==t.processId&&18!==t.processId||25!==t.currentState&&30!==t.currentState||this.$store.dispatch("ToggleKindstr",null!==t.optionsAdopt?t.optionsAdopt:t.optionsApplyFor),this.$store.dispatch("ToggleProcessId",t.processId),this.$store.dispatch("ToggleHandleState",t.currentState),8===t.processId||89===t.processId||891===t.processId||892===t.processId?this.tasksTodoAreaMoveHandle(t):this.tasksTodoHandle(t)},tasksTodoAreaMoveHandle:function(t){var e=t.requestId,r=t.cdpfId;this.$router.push({name:"tasksDoneAreaMoveInfo",params:{requestId:e,cdpfId:r,handle:!1}})},tasksTodoHandle:function(t){var e=t.requestId,r=t.cdpfId;this.$router.push({name:"tasksDoneInfo",params:{requestId:e,cdpfId:r,handle:!1}})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.getList()})},getList:function(){var t=this;this.listLoading=!0,Object(a.g)(this.query).then(function(e){t.listLoading=!1,t.list=e.data.content,t.$store.dispatch("ToggleTotalCount",e.data.totalElements)})},resetForm:function(t){this.$refs[t].resetFields()}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view"),t._v(" "),t.showList?r("div",{staticClass:"app-container"},[r("el-form",{ref:"query",attrs:{size:"medium",model:t.listQuery,rules:t.rules,"label-width":"100px"}},[r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"姓名",prop:"citizenName"}},[r("el-input",{model:{value:t.listQuery.citizenName,callback:function(e){t.$set(t.listQuery,"citizenName",e)},expression:"listQuery.citizenName"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"身份证号",prop:"citizenId"}},[r("el-input",{model:{value:t.listQuery.citizenId,callback:function(e){t.$set(t.listQuery,"citizenId",e)},expression:"listQuery.citizenId"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"流程名称",prop:"processId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.listQuery.processId,callback:function(e){t.$set(t.listQuery,"processId",e)},expression:"listQuery.processId"}},t._l(t.dict.processList,function(t){return r("el-option",{key:t.code,attrs:{label:t.description,value:parseInt(t.code)}})}))],1)],1)],1),t._v(" "),r("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:6}},[r("el-form-item")],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.submitForm("query")}}},[t._v("查询")])],1)],1),t._v(" "),r("el-col",{attrs:{span:2}},[r("el-form-item",{attrs:{"label-width":"10px"}},[r("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm("query")}}},[t._v("重置")])],1)],1),t._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item")],1)],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"加载中",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{align:"center",label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){t.taskDoneInfo(e.row)}}},[t._v(t._s(e.row.citizenName))])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"citizenId",label:"身份证号",width:"170"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"processId",label:"流程名称",width:"180",formatter:t.formatterProcessid}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"currentState",label:"办理结果",width:"80",formatter:t.formatterState}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"requestModifyDateFormat",label:"办结时间",width:"160"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"requestCreateDateFormat",label:"申请时间",width:"160"}})],1)],1):t._e()],1)},staticRenderFns:[]},c=r("VU/8")(n,l,!1,null,null,null);e.default=c.exports}});