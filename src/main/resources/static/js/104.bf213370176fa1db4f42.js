webpackJsonp([104],{lnOZ:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("Dd8w"),r=t.n(s),i=t("NYxO"),o=t("rLcC"),n=t("M3VY"),d=t("BzqM"),c=t("bBKa"),l=t("q1Tu"),m=t("brym"),v=t("9/5Y"),u=t("iVcN"),f=t("UqAJ"),h=t("5u+E"),p=t("zHhc"),w=t("jSlZ"),P=t("Q3je"),I=t("TIfe"),b=t("yk4z"),G={components:{Citizen:o.default,Eye:n.default,Ear:d.default,Speech:c.default,IdtBody:l.default,Iq:m.default,Mental:v.default,IdtResult:u.default,TasksLog:h.default,OperLog:p.default,IdtphotoOldShow:f.default},computed:r()({},Object(i.b)(["kindstr","dict","isHulian","citizenId","guardianOrAgent"]),{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}),watch:{"dtoState.processId":function(a,e){this.processName=this.dict.processList.filter(function(e){return parseInt(e.code,10)===a})[0].description}},data:function(){return{isLoading:!1,cdpfId:this.$route.params.cdpfId,activeName:"citizen",cardGiveParams:{unit:"75113001",Mchnt:"003080000001",pos:"1234567890",opr:"000001",ip_addr:"172.30.0.61",serverport:"5001",sLossData:"",sReleaseData:"",sYearInfo:"",sInfoData:"",sNewCardInfo:"",sNewInfo:"",cPersonInfo:"",cPhotoInfo:"",citizenId:this.$route.params.citizenId,requestIdCard:this.$route.params.requestIdCard,oldCardNo:"",cardBusiness:"",cardmakestate:"",cardnoCheck:"",cardNoFlagT:"",newCardNo:"",check260:"0"},dialogTableVisible:!1,dialogFormVisible:!1,currentState:0,optionsAdopt:"",processName:"",form:{name:""},formLabelWidth:"120px",dtoState:{processId:0,stateType:3}}},created:function(){this.getRequest(),this.getCard(),this.sInfoData(),this.sYearInfo(),this.sNewCardInfo(),this.sLossData(),this.sReleaseData(),this.sNewInfo(),this.cPersonInfo(),this.cPhotoInfo()},methods:{handleClick:function(a,e){this.$refs["idt"+a.name].loaded||this.$refs["idt"+a.name].getIdtInfo()},getRequest:function(){var a=this;Object(P.a)(this.$route.params.requestId).then(function(e){null!==e.data&&null!==e.data.processId&&(a.currentState=e.data.currentState,a.optionsAdopt=e.data.optionsAdopt,a.getSteps(e.data.processId))})},getSteps:function(a){var e=this;this.dtoState.processId=a,Object(w.c)(this.dtoState).then(function(a){e.isLoading=!1,e.steps=a.data.sort(function(a,e){return a.orderNum-e.orderNum}),30!==e.currentState?e.activeStep=e.steps.find(function(a){return a.stateCode===e.currentState}).orderNum-1:e.activeStep=e.steps.length})},getCard:function(){var a=this;Object(b.k)(this.cardGiveParams.requestIdCard).then(function(e){a.cardGiveParams.cardBusiness=e.data.cardBusiness,a.cardGiveParams.cardmakestate=e.data.cardMakeState,a.cardGiveParams.cardnoCheck=e.data.cardNo,a.cardGiveParams.oldCardNo=e.data.oldCardNo})},sInfoData:function(){var a=this;Object(b.q)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.sInfoData=e.data})},sYearInfo:function(){var a=this;Object(b.v)(this.cardGiveParams.requestIdCard).then(function(e){a.cardGiveParams.sYearInfo=e.data})},sLossData:function(){var a=this;Object(b.r)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.sLossData=e.data})},sReleaseData:function(){var a=this;Object(b.u)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.sReleaseData=e.data})},sNewCardInfo:function(){var a=this;Object(b.s)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.sNewCardInfo=e.data})},sNewInfo:function(){var a=this;Object(b.t)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.sNewInfo=e.data})},cPhotoInfo:function(){var a=this;Object(b.d)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.cPhotoInfo=e.data})},cPersonInfo:function(){var a=this;Object(b.c)(this.cardGiveParams.citizenId).then(function(e){a.cardGiveParams.cPersonInfo=e.data})},giveCard:function(){Object(b.f)()},giveCardie:function(){var a=this;setTimeout(function(){a.$router.push({name:"cardForGiveList"})},1e4),window.open("http://172.30.0.31/bdpfnew/givecard.html?tockionId="+Object(I.a)()+"&requestIdCard="+this.$route.params.requestIdCard+"&citizenId="+this.$route.params.citizenId,"_blank")},delayCardtest:function(){var a=this;setTimeout(function(){a.$router.push({name:"cardForDelayList"})},1e4),window.open("http://172.30.0.31/bdpfnew/delayCard.html?tockionId="+Object(I.a)()+"&requestIdCard="+this.$route.params.requestIdCard,"_blank")},getCardFlag:function(){var a=this;this.dialogFormVisible=!1,setTimeout(function(){Object(b.x)("")&&(a.cardGiveParams.newCardNo=document.getElementById("newCardNo").value,a.cardGiveParams.cardNoFlagT=document.getElementById("cardNoFlagT").value,Object(b.m)(a.cardGiveParams).then(function(e){alert(e.content),a.$router.push({name:"cardForGiveList"})}))},10)},delayCard:function(){var a=this;Object(b.w)()&&Object(b.g)(this.cardGiveParams).then(function(e){alert(e.content),a.$router.push({name:"crossAreaQuery"})})}}},k={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("router-view"),a._v(" "),t("OBJECT",{attrs:{hidden:"",id:"yktReader",classid:"CLSID:19B0BDDF-D26D-4EF1-AF3C-1622B672E7D0"}}),a._v(" "),t("div",{staticClass:"app-container"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:a.isLoading,expression:"isLoading",modifiers:{body:!0}}],attrs:{size:"medium","label-position":"left","element-loading-text":"数据加载中"}},[t("el-row",[t("el-card",[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-info"},on:{click:function(e){a.delayCard()}}},[a._v("公交功能延期")]),a._v(" "),t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-info"},on:{click:function(e){a.delayCardtest()}}},[a._v("公交功能延期IE8")]),a._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"dialogButtom",type:"text"},on:{click:function(e){a.dialogFormVisible=!0}}},[a._v("打开嵌套表单的 Dialog")])],1)],1)],1),a._v(" "),t("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"基本信息",name:"citizen"}},[t("citizen",{ref:"idtcitizen",attrs:{idt:"",info:"",mark:this.$route.params.cdpfId}})],1),a._v(" "),a.has(a.kindstr,"1")?t("el-tab-pane",{attrs:{label:"视力残疾",name:"eye"}},[t("eye",{ref:"idteye",attrs:{showIdtPhoto:1===a.isHulian,info:"",mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),a.has(a.kindstr,"2")?t("el-tab-pane",{attrs:{label:"听力残疾",name:"ear"}},[t("ear",{ref:"idtear",attrs:{showIdtPhoto:1===a.isHulian,info:"",mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),a.has(a.kindstr,"3")?t("el-tab-pane",{attrs:{label:"言语残疾",name:"speech"}},[t("speech",{ref:"idtspeech",attrs:{showIdtPhoto:1===a.isHulian,info:"",mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),a.has(a.kindstr,"4")?t("el-tab-pane",{attrs:{label:"肢体残疾",name:"body"}},[t("idt-body",{ref:"idtbody",attrs:{showIdtPhoto:1===a.isHulian,info:"",mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),a.has(a.kindstr,"5")?t("el-tab-pane",{attrs:{label:"智力残疾",name:"iq"}},[t("iq",{ref:"idtiq",attrs:{showIdtPhoto:1===a.isHulian,info:"",mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),a.has(a.kindstr,"6")?t("el-tab-pane",{attrs:{label:"精神残疾",name:"mental"}},[t("mental",{ref:"idtmental",attrs:{showIdtPhoto:1===a.isHulian,info:"",mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),t("el-tab-pane",{attrs:{label:"评定结果",name:"resultX"}},[t("idt-result",{ref:"idtresultX",attrs:{info:"",mark:this.$route.params.requestIdFinished}})],1),a._v(" "),t("el-tab-pane",{attrs:{label:"旧系统评残照片",name:"photoOldShow"}},[t("idtphoto-old-show",{ref:"idtphotoOldShow"})],1),a._v(" "),1===a.isHulian?t("el-tab-pane",{attrs:{label:"任务历史",name:"taskslog"}},[t("tasks-log",{ref:"idttaskslog",attrs:{mark:this.$route.params.requestIdFinished}})],1):a._e(),a._v(" "),t("el-tab-pane",{attrs:{label:"操作历史",name:"operlog"}},[t("oper-log",{ref:"idtoperlog",attrs:{mark:this.$route.params.cdpfId}})],1)],1)],1),a._v(" "),t("div",[t("el-form",{ref:"cardGiveParams",attrs:{model:a.cardGiveParams,"label-width":"80px",size:"medium"}},[t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"cardBusiness"},model:{value:a.cardGiveParams.cardBusiness,callback:function(e){a.$set(a.cardGiveParams,"cardBusiness",e)},expression:"cardGiveParams.cardBusiness"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"cardmakestate"},model:{value:a.cardGiveParams.cardmakestate,callback:function(e){a.$set(a.cardGiveParams,"cardmakestate",e)},expression:"cardGiveParams.cardmakestate"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"cardnoCheck"},model:{value:a.cardGiveParams.cardnoCheck,callback:function(e){a.$set(a.cardGiveParams,"cardnoCheck",e)},expression:"cardGiveParams.cardnoCheck"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"requestIdCard"},model:{value:a.cardGiveParams.requestIdCard,callback:function(e){a.$set(a.cardGiveParams,"requestIdCard",e)},expression:"cardGiveParams.requestIdCard"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"newCardNo"},model:{value:a.cardGiveParams.newCardNo,callback:function(e){a.$set(a.cardGiveParams,"newCardNo",e)},expression:"cardGiveParams.newCardNo"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"check260"},model:{value:a.cardGiveParams.check260,callback:function(e){a.$set(a.cardGiveParams,"check260",e)},expression:"cardGiveParams.check260"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"cardNoFlagT"},model:{value:a.cardGiveParams.cardNoFlagT,callback:function(e){a.$set(a.cardGiveParams,"cardNoFlagT",e)},expression:"cardGiveParams.cardNoFlagT"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"unit"},model:{value:a.cardGiveParams.unit,callback:function(e){a.$set(a.cardGiveParams,"unit",e)},expression:"cardGiveParams.unit"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"Mchnt"},model:{value:a.cardGiveParams.Mchnt,callback:function(e){a.$set(a.cardGiveParams,"Mchnt",e)},expression:"cardGiveParams.Mchnt"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"pos"},model:{value:a.cardGiveParams.pos,callback:function(e){a.$set(a.cardGiveParams,"pos",e)},expression:"cardGiveParams.pos"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"opr"},model:{value:a.cardGiveParams.opr,callback:function(e){a.$set(a.cardGiveParams,"opr",e)},expression:"cardGiveParams.opr"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"ip_addr"},model:{value:a.cardGiveParams.ip_addr,callback:function(e){a.$set(a.cardGiveParams,"ip_addr",e)},expression:"cardGiveParams.ip_addr"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"serverport"},model:{value:a.cardGiveParams.serverport,callback:function(e){a.$set(a.cardGiveParams,"serverport",e)},expression:"cardGiveParams.serverport"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"oldCardNo"},model:{value:a.cardGiveParams.oldCardNo,callback:function(e){a.$set(a.cardGiveParams,"oldCardNo",e)},expression:"cardGiveParams.oldCardNo"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"sLossData"},model:{value:a.cardGiveParams.sLossData,callback:function(e){a.$set(a.cardGiveParams,"sLossData",e)},expression:"cardGiveParams.sLossData"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"sReleaseData"},model:{value:a.cardGiveParams.sReleaseData,callback:function(e){a.$set(a.cardGiveParams,"sReleaseData",e)},expression:"cardGiveParams.sReleaseData"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"sYearInfo"},model:{value:a.cardGiveParams.sYearInfo,callback:function(e){a.$set(a.cardGiveParams,"sYearInfo",e)},expression:"cardGiveParams.sYearInfo"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"sInfoData"},model:{value:a.cardGiveParams.sInfoData,callback:function(e){a.$set(a.cardGiveParams,"sInfoData",e)},expression:"cardGiveParams.sInfoData"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"sNewCardInfo"},model:{value:a.cardGiveParams.sNewCardInfo,callback:function(e){a.$set(a.cardGiveParams,"sNewCardInfo",e)},expression:"cardGiveParams.sNewCardInfo"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"sNewInfo"},model:{value:a.cardGiveParams.sNewInfo,callback:function(e){a.$set(a.cardGiveParams,"sNewInfo",e)},expression:"cardGiveParams.sNewInfo"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"cPersonInfo"},model:{value:a.cardGiveParams.cPersonInfo,callback:function(e){a.$set(a.cardGiveParams,"cPersonInfo",e)},expression:"cardGiveParams.cPersonInfo"}}),a._v(" "),t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"cPhotoInfo"},model:{value:a.cardGiveParams.cPhotoInfo,callback:function(e){a.$set(a.cardGiveParams,"cPhotoInfo",e)},expression:"cardGiveParams.cPhotoInfo"}})],1)],1),a._v(" "),t("el-dialog",{attrs:{title:"填写卡标记位",visible:a.dialogFormVisible},on:{"update:visible":function(e){a.dialogFormVisible=e}}},[t("el-form",{attrs:{model:a.form}},[t("el-form-item",{attrs:{label:"卡标记位","label-width":a.formLabelWidth}},[t("el-input",{attrs:{id:"cardNoFlagTemp"},model:{value:a.form.name,callback:function(e){a.$set(a.form,"name",e)},expression:"form.name"}})],1)],1),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:a.getCardFlag}},[a._v("确 定")])],1)],1)],1)},staticRenderFns:[]},N=t("VU/8")(G,k,!1,null,null,null);e.default=N.exports}});