webpackJsonp([50],{Fgk9:function(e,t,a){"use strict";t.a=function(e){return Object(i.a)({url:"/nameEidt/getCitizenData/"+e,method:"get"})},t.b=function(e){return Object(i.a)({url:"/nameEidt/updateInfo",method:"put",data:e})};var i=a("VsUZ")},cL7t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("rLcC"),n=a("Fgk9"),r={components:{Citizen:i.default},computed:{},data:function(){return{isLoading:!1,isSubmitting:!1,cdpfId:this.$route.params.cdpfId,activeName:"citizen",NameEditParams:{cdpfId:this.$route.params.cdpfId,newname:""},rules:{newname:[{required:!0,message:"请填写新姓名",trigger:"blur"}]}}},watch:{},created:function(){},methods:{nameEdit:function(){var e=this;this.$refs.NameEditParams.validate(function(t){if(t){if(""===e.NameEditParams.newname.trim())return void alert("新姓名不可为空！");e.isSubmitting=!0,Object(n.b)(e.NameEditParams).then(function(t){"success"===t.type?(e.isSubmitting=!1,alert(t.content),alert("如果此人已发卡，请进行卡残损换新操作。"),e.$router.push({name:"nameEditDiaoqu"})):alert(t.content)})}})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],ref:"NameEditParams",attrs:{model:e.NameEditParams,rules:e.rules,size:"medium","label-position":"left","element-loading-text":"数据加载中"}},[a("el-row",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"},attrs:{gutter:25}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"请输入新姓名：","label-width":"140px",prop:"newname"}},[a("el-input",{model:{value:e.NameEditParams.newname,callback:function(t){e.$set(e.NameEditParams,"newname",t)},expression:"NameEditParams.newname"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"padding-left":"2cm"},attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"0px"}},[e.isSubmitting?e._e():a("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:e.nameEdit}},[e._v("提交")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.isSubmitting,expression:"isSubmitting",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"操作处理中"}})],1),e._v(" "),a("el-row")],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"citizen"}},[a("citizen",{ref:"idtcitizen",attrs:{idt:"",info:"",mark:this.$route.params.cdpfId}})],1)],1)],1)])},staticRenderFns:[]},l=a("VU/8")(r,s,!1,null,null,null);t.default=l.exports}});