webpackJsonp([3,70,76,78,79,83,84,107],{"0rzx":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"IqNoPassed",components:{IdtPhotoUpload:s("kX85").default},props:{mark:{type:String,default:""},info:{type:Boolean,default:!1},showIdtPhoto:{type:Boolean,default:!0}},methods:{getIdtInfo:function(){this.showIdtPhoto&&this.$refs.idtPhoto.getIdtPhotoNow()}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.showIdtPhoto?e("idt-photo-upload",{ref:"idtPhoto",attrs:{mark:this.mark,kind:5,info:this.info}}):this._e()],1)},staticRenderFns:[]},o=s("VU/8")(i,a,!1,null,null,null);e.default=o.exports},"8ZLT":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"MentalNoPassed",components:{IdtPhotoUpload:s("kX85").default},props:{mark:{type:String,default:""},info:{type:Boolean,default:!1},showIdtPhoto:{type:Boolean,default:!0}},methods:{getIdtInfo:function(){this.showIdtPhoto&&this.$refs.idtPhoto.getIdtPhotoNow()}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.showIdtPhoto?e("idt-photo-upload",{ref:"idtPhoto",attrs:{mark:this.mark,kind:6,info:this.info}}):this._e()],1)},staticRenderFns:[]},o=s("VU/8")(i,a,!1,null,null,null);e.default=o.exports},CNY7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"EarNoPassed",components:{IdtPhotoUpload:s("kX85").default},props:{mark:{type:String,default:""},info:{type:Boolean,default:!1},showIdtPhoto:{type:Boolean,default:!0}},methods:{getIdtInfo:function(){this.showIdtPhoto&&this.$refs.idtPhoto.getIdtPhotoNow()}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.showIdtPhoto?e("idt-photo-upload",{ref:"idtPhoto",attrs:{mark:this.mark,kind:2,info:this.info}}):this._e()],1)},staticRenderFns:[]},o=s("VU/8")(i,a,!1,null,null,null);e.default=o.exports},KKLF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"EyeNoPassed",components:{IdtPhotoUpload:s("kX85").default},props:{mark:{type:String,default:""},info:{type:Boolean,default:!1},showIdtPhoto:{type:Boolean,default:!0}},methods:{getIdtInfo:function(){this.showIdtPhoto&&this.$refs.idtPhoto.getIdtPhotoNow()}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.showIdtPhoto?e("idt-photo-upload",{ref:"idtPhoto",attrs:{mark:this.mark,kind:1,info:this.info}}):this._e()],1)},staticRenderFns:[]},o=s("VU/8")(i,a,!1,null,null,null);e.default=o.exports},S0aH:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"IdtBodyNoPassed",components:{IdtPhotoUpload:s("kX85").default},props:{mark:{type:String,default:""},info:{type:Boolean,default:!1},showIdtPhoto:{type:Boolean,default:!0}},methods:{getIdtInfo:function(){this.showIdtPhoto&&this.$refs.idtPhoto.getIdtPhotoNow()}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.showIdtPhoto?e("idt-photo-upload",{ref:"idtPhoto",attrs:{mark:this.mark,kind:4,info:this.info}}):this._e()],1)},staticRenderFns:[]},o=s("VU/8")(i,a,!1,null,null,null);e.default=o.exports},ngPj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),o=s("NYxO"),l=s("rLcC"),r=s("KKLF"),d=s("CNY7"),n=s("yy9u"),c=s("S0aH"),u=s("0rzx"),h=s("8ZLT"),p=s("vbJL"),f=s("5u+E"),m=s("zHhc"),b=s("UqAJ"),v=s("n4mu"),I=s("CLIt"),k=["eye","ear","speech","body","iq","mental"],g=["eyeIdted","earIdted","speechIdted","bodyIdted","iqIdted","mentalIdted"],_={components:{Citizen:l.default,EyeNoPassed:r.default,EarNoPassed:d.default,SpeechNoPassed:n.default,IdtBodyNoPassed:c.default,IqNoPassed:u.default,MentalNoPassed:h.default,IdtResultNoPassed:p.default,TasksLog:f.default,OperLog:m.default,IdtphotoOldShow:b.default,GuardianPhotoUpload:v.default},data:function(){return{isSubmitting:!1,active:"",shouldLoadIdtKindInfo:!1,valid:!1,requestId:this.$route.params.requestId,checkList:["citizen","resultX"],checkListIdted:[],kindIdtSelected:["resultX","taskslog"],validateList:["citizen","resultX"],idt:{min:0,optionsApplyFor:"",dtocitizen:{},dtoresultX:{}}}},created:function(){this.setOptionsApplyFor(),58===this.processId&&this.setOptionsApplyForIdted()},watch:{checkList:function(t){t.length>3?(this.active=t[t.length-1],this.shouldLoadIdtKindInfo||(this.active="citizen",this.shouldLoadIdtKindInfo=!0)):t.length>2?(this.active=t[t.length-1],this.shouldLoadIdtKindInfo||(this.active="citizen",this.shouldLoadIdtKindInfo=!0)):(this.$store.dispatch("ToggleIdtKind",""),this.active="citizen")}},computed:a()({},Object(o.b)(["processId","oldKindstr"]),{activeName:{get:function(){return""===this.active?this.checkList.length<3?"citizen":this.shouldLoadIdtKindInfo?this.checkList[this.checkList.length-1]:(this.active="citizen",this.shouldLoadIdtKindInfo=!0,"citizen"):this.active},set:function(t){}}}),methods:{noPassed:function(){var t=this,e=58===this.processId?",类别等级变更前的类别也将取消":"";this.$confirm("不通过后,残疾人当前鉴定流程将会结束"+e+",是否继续?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){t.saveIdtNoPassed()}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},handleClick:function(t,e){"resultX"===t.name&&(this.$refs["idt"+t.name].loaded||this.$refs["idt"+t.name].getIdtInfo());"operlog"===t.name&&this.$refs.idtoperlog.getIdtInfo(),"photoOldShow"===t.name&&this.$refs.idphotoOldShow.getIdtInfo(),this.active=t.name},validateIdt:function(){var t=this;this.isSubmitting=!0;for(var e=function(e){var s=t.validateList[e];if(t.$refs["idt"+s].$refs[s].validate(function(e){e&&(t.idt["dto"+s]=t.$refs["idt"+s][s]),t.valid=e}),!t.valid)return t.isSubmitting=!1,t.handleClick({name:s}),"break";t.active="citizen"},s=this.validateList.length-1;s>-1;s--){if("break"===e(s))break}},validateIdtPhoto:function(){for(var t=!0,e=this.checkList.length-1;e>-1;e--){var s=this.checkList[e];if("citizen"!==s&&"resultX"!==s){var i=this.$refs["idt"+s].$refs.idtPhoto.imageUrl,a=this.$refs["idt"+s].$refs.idtPhoto.oldIdtPhoto;if(""===i&&!a){t=!1,this.handleClick({name:s}),alert("请上传评残不通过图片");break}}}return t},saveIdtMin:function(){var t=this;if(this.isSubmitting=!0,this.validateIdtPhoto()){if(this.validateIdt(),!this.valid)return!1;this.idt.min=1,this.idt.optionsApplyFor="",Object(I.b)(this.idt).then(function(e){t.isSubmitting=!1,alert(e.content)})}else this.isSubmitting=!1},saveIdtNoPassed:function(){var t=this;if(this.validateIdtPhoto()){if(this.validateIdt(),!this.valid)return!1;this.idt.min=0,this.idt.optionsApplyFor="",Object(I.b)(this.idt).then(function(e){t.isSubmitting=!1,alert(e.content),t.$router.push({name:"tasksTodoList"})})}},setOptionsApplyFor:function(){for(var t=this,e="",s=this.$store.getters.kindstr.split(","),i=0;i<s.length;i++){var a=s[i];e.indexOf(a)<0&&(e+=a+",")}null!==e&&""!==e&&e.split(",").forEach(function(e){""!==e&&void 0!==e&&(t.checkList.push(k[e-1]),t.kindIdtSelected.push(k[e-1]))})},setOptionsApplyForIdted:function(){for(var t=this,e="",s=this.$store.getters.oldKindstr.split(","),i=0;i<s.length;i++){var a=s[i];e.indexOf(a)<0&&(e+=a+",")}null!==e&&""!==e&&e.split(",").forEach(function(e){""!==e&&void 0!==e&&t.checkListIdted.push(g[e-1])})}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("el-form",{attrs:{size:"medium"}},[58===t.processId?s("el-row",[s("el-col",{attrs:{span:15}},[s("el-form-item",{attrs:{label:"当前残疾类别:"}},[s("el-checkbox-group",{attrs:{disabled:""},model:{value:t.checkListIdted,callback:function(e){t.checkListIdted=e},expression:"checkListIdted"}},[s("el-checkbox",{attrs:{label:"eyeIdted",border:""}},[t._v("视力")]),t._v(" "),s("el-checkbox",{attrs:{label:"earIdted",border:""}},[t._v("听力")]),t._v(" "),s("el-checkbox",{attrs:{label:"speechIdted",border:""}},[t._v("言语")]),t._v(" "),s("el-checkbox",{attrs:{label:"bodyIdted",border:""}},[t._v("肢体")]),t._v(" "),s("el-checkbox",{attrs:{label:"iqIdted",border:""}},[t._v("智力")]),t._v(" "),s("el-checkbox",{attrs:{label:"mentalIdted",border:""}},[t._v("精神")])],1)],1)],1)],1):t._e(),t._v(" "),s("el-row",[s("el-col",{attrs:{span:15}},[s("el-form-item",{attrs:{label:"残疾类别:"}},[s("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[s("el-checkbox",{attrs:{label:"eye",border:""}},[t._v("视力")]),t._v(" "),s("el-checkbox",{attrs:{label:"ear",border:""}},[t._v("听力")]),t._v(" "),s("el-checkbox",{attrs:{label:"speech",border:""}},[t._v("言语")]),t._v(" "),s("el-checkbox",{attrs:{label:"body",border:""}},[t._v("肢体")]),t._v(" "),s("el-checkbox",{attrs:{label:"iq",border:""}},[t._v("智力")]),t._v(" "),s("el-checkbox",{attrs:{label:"mental",border:""}},[t._v("精神")])],1)],1)],1),t._v(" "),s("el-col",{attrs:{span:2}},[s("el-form-item",[t.isSubmitting?t._e():s("el-button",{attrs:{type:"danger",icon:"el-icon-error"},on:{click:t.saveIdtNoPassed}},[t._v("不通过提交")])],1)],1),t._v(" "),s("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.isSubmitting,expression:"isSubmitting",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"操作处理中"}})],1)],1),t._v(" "),s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"基本信息",name:"citizen"}},[s("citizen",{ref:"idtcitizen",attrs:{idt:"",mark:this.$route.params.cdpfId}})],1),t._v(" "),t.has(t.checkList,"eye")?s("el-tab-pane",{attrs:{label:"视力残疾",name:"eye"}},[s("eye-no-passed",{ref:"idteye",attrs:{mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.checkList,"ear")?s("el-tab-pane",{attrs:{label:"听力残疾",name:"ear"}},[s("ear-no-passed",{ref:"idtear",attrs:{mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.checkList,"speech")?s("el-tab-pane",{attrs:{label:"言语残疾",name:"speech"}},[s("speech-no-passed",{ref:"idtspeech",attrs:{mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.checkList,"body")?s("el-tab-pane",{attrs:{label:"肢体残疾",name:"body"}},[s("idt-body-no-passed",{ref:"idtbody",attrs:{mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.checkList,"iq")?s("el-tab-pane",{attrs:{label:"智力残疾",name:"iq"}},[s("iq-no-passed",{ref:"idtiq",attrs:{mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),t.has(t.checkList,"mental")?s("el-tab-pane",{attrs:{label:"精神残疾",name:"mental"}},[s("mental-no-passed",{ref:"idtmental",attrs:{mark:this.$route.params.requestId}})],1):t._e(),t._v(" "),s("el-tab-pane",{attrs:{label:"评定结果",name:"resultX"}},[s("idt-result-no-passed",{ref:"idtresultX",attrs:{mark:this.$route.params.requestId}})],1),t._v(" "),s("el-tab-pane",{attrs:{label:"任务历史",name:"taskslog"}},[s("tasks-log",{ref:"idttaskslog",attrs:{mark:this.$route.params.requestId}})],1),t._v(" "),s("el-tab-pane",{attrs:{label:"操作历史",name:"operlog"}},[s("oper-log",{ref:"idtoperlog",attrs:{mark:this.$route.params.cdpfId}})],1)],1)],1)},staticRenderFns:[]},P=s("VU/8")(_,y,!1,null,null,null);e.default=P.exports},vbJL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),o=s("NYxO"),l=s("CLIt"),r={name:"IdtResultNoPassed",props:{mark:{type:String,default:""},info:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,disabled:this.info,loaded:!1,resultX:{requestId:this.mark,idtKind:0,idtLevel:0,idtKindDesc:"无",idtLevelDesc:"无",idtType:1,idtDate:"",idtHospital:"",idtName:"",idtComment:"",cjqkDescribe:"",memo:""},rules:{idtDate:[{required:!0,message:"请选择评定日期",trigger:"change"}],idtHospital:[{required:!0,message:"请选择评定医院",trigger:"change"}],idtName:[{required:!0,message:"请填写评定人(医师)",trigger:"blur"}],idtComment:[{required:!0,message:"请填写评定意见",trigger:"blur"}]}}},computed:a()({},Object(o.b)(["dict"])),methods:{getIdtInfo:function(){var t=this;this.isLoading=!0,Object(l.a)("idtResult",this.mark).then(function(e){t.isLoading=!1,"success"===e.type&&(t.resultX=e.data,t.resultX.idtKind=0,t.resultX.idtLevel=0,t.resultX.idtKindDesc="无",t.resultX.idtLevelDesc="无",t.loaded=!0)})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],ref:"resultX",attrs:{rules:t.rules,model:t.resultX,"label-width":"150px",size:"medium","element-loading-text":"加载中"}},[s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"idtKindDesc",label:"残疾类别"}},[s("el-input",{attrs:{readonly:"",disabled:t.disabled},model:{value:t.resultX.idtKindDesc,callback:function(e){t.$set(t.resultX,"idtKindDesc",e)},expression:"resultX.idtKindDesc"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"idtLevelDesc",label:"残疾等级"}},[s("el-input",{attrs:{readonly:"",disabled:t.disabled},model:{value:t.resultX.idtLevelDesc,callback:function(e){t.$set(t.resultX,"idtLevelDesc",e)},expression:"resultX.idtLevelDesc"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"评定方式",prop:"idtType"}},[s("el-radio-group",{model:{value:t.resultX.idtType,callback:function(e){t.$set(t.resultX,"idtType",e)},expression:"resultX.idtType"}},[s("el-radio",{attrs:{label:1,border:"",disabled:t.disabled}},[t._v("医院评定")])],1)],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"评定日期",prop:"idtDate"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:t.disabled},model:{value:t.resultX.idtDate,callback:function(e){t.$set(t.resultX,"idtDate",e)},expression:"resultX.idtDate"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"评定医院",prop:"idtHospital"}},[s("el-input",{attrs:{disabled:t.disabled},model:{value:t.resultX.idtHospital,callback:function(e){t.$set(t.resultX,"idtHospital",e)},expression:"resultX.idtHospital"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"评定医师",prop:"idtName"}},[s("el-input",{attrs:{disabled:t.disabled},model:{value:t.resultX.idtName,callback:function(e){t.$set(t.resultX,"idtName",e)},expression:"resultX.idtName"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"评定意见:",prop:"idtComment"}},[s("el-input",{attrs:{type:"textarea",disabled:t.disabled},model:{value:t.resultX.idtComment,callback:function(e){t.$set(t.resultX,"idtComment",e)},expression:"resultX.idtComment"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"残疾情况描述:",prop:"disDetail"}},[s("el-input",{attrs:{type:"textarea",disabled:t.disabled},model:{value:t.resultX.cjqkDescribe,callback:function(e){t.$set(t.resultX,"cjqkDescribe",e)},expression:"resultX.cjqkDescribe"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"备注:",prop:"memo"}},[s("el-input",{attrs:{type:"textarea",disabled:t.disabled},model:{value:t.resultX.memo,callback:function(e){t.$set(t.resultX,"memo",e)},expression:"resultX.memo"}})],1)],1)],1)],1)},staticRenderFns:[]},n=s("VU/8")(r,d,!1,null,null,null);e.default=n.exports},yy9u:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"SpeechNoPassed",components:{IdtPhotoUpload:s("kX85").default},props:{mark:{type:String,default:""},info:{type:Boolean,default:!1},showIdtPhoto:{type:Boolean,default:!0}},methods:{getIdtInfo:function(){this.showIdtPhoto&&this.$refs.idtPhoto.getIdtPhotoNow()}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.showIdtPhoto?e("idt-photo-upload",{ref:"idtPhoto",attrs:{mark:this.mark,kind:3,info:this.info}}):this._e()],1)},staticRenderFns:[]},o=s("VU/8")(i,a,!1,null,null,null);e.default=o.exports}});